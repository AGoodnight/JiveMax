<!DOCTYPE html>
<html lang="en-US">

<head>

<title>JiveMax Template</title>

<link rel="shortcut icon" type="image/png" href="jasmine/lib/jasmine-2.0.0/jasmine_favicon.png">
<link rel="stylesheet" type="text/css" href="jasmine/lib/jasmine-2.0.0/jasmine.css"> 

<!--<script type="text/javascript" src="jasmine/lib/jasmine-2.0.0/jasmine.js"></script>
<script type="text/javascript" src="jasmine/lib/jasmine-2.0.0/jasmine-html.js"></script>
<script type="text/javascript" src="jasmine/lib/jasmine-2.0.0/boot.js"></script>-->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" ></script>
<script src='vendor/gsap.min.js' type='text/javascript'></script>
<link href='WebCourse/css/global.css' rel='stylesheet'></link>

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

<script src='src/services.js' type='text/javascript'></script>
<script src='src/factory.js' type='text/javascript'></script>
<script src='src/controllers.js' type='text/javascript'></script>
<script src='src/jig.js' type='text/javascript'></script>
<script src='src/test.js' type='text/javascript'></script>
<script src='src/present.js' type='text/javascript'></script>

</head>
<style>
#slides{
	background: rgba(0,0,0,0.5);
	color:white;
}
</style>

<body>

<div>

	<div id='collage' class='present-collage-polaroids'>
		<div id='frontyard'><img src='img/photo1.png'/></div>
		<div id='mmo'><img src='img/photo2.png'/></div>
		<div id='waterfall'><img src='img/photo3.jpg'/></div>
		<div id='painting'><img src='img/photo4.jpg'/></div>
		<div id='dog'><img src='img/photo5.jpg'/></div>
	</div>

	<div id='slides' class='stage-overlay'>
		<div class='present-modal'>
			<h1>I am a waterfall</h1>
			<p>I will go left to right</p>
			<p><bdo dir='rtl'>I will go RIght to Left</bdo></p>
			<div id='close-waterfall' class='fa fa-close'></div>
		</div>
		<div class='present-modal'>
			<h1><abbr title='Canine'>I am a Dog</abbr></h1>

			<div id='close-dog' class='fa fa-close'></div>
		</div>
	</div>

	<template id='focals'>
		<img id='salad' style='position:absolute; pointer-events:none;' src='img/salad.png'/>
	</template>

</div>


</body>
<script>

var _ready = false;

jQuery('window').ready(function(){

	/*var focals = document.getElementById('focals');
	var item = focals.content.getElementById('salad')
	var ceasar = document.importNode(item, true);
	document.body.appendChild(ceasar)*/

	var _i1 = new Button('#dog').jig('wiggle',{speed:0.5},{loop:100,sync:0.3})
	.bindOn({
		mousedown:function(self){
			self.restart().clear().jig('spin');
		}
	});

	var _i2 = new Button('#waterfall').jig('wiggle',{speed:0.5},{loop:100})
	.bindOn({
		mousedown:function(self){
			self.restart().clear().jig('spin');
		}
	});

	var _album = [ _i2,'#mmo','#frontyard','#painting',_i1 ];

	var _scene = new Scene({ease:'Back.easeOut'}).staggerFrom(_album,0.4,{opacity:0,x:100,y:100,scale:2},{offset:0.1})

	var album1 = Collage(_album,'square',{gutter:'30px',x:1,focal:'#salad'});

	var scenes = [];
	var modals = getNodes('.present-modal');

	for( var i = 0 ; i<modals.length ; i++){
		var newScene = new Scene().from(modals[i],0.5,{opacity:1});
		scenes.push(newScene);
	}

	var album_ctp = new ClickToPresent('#slides',scenes);

	album_ctp.hotspot(_i2,0).exit('#close-waterfall',0); // you can use GSAP objects as hotspots, if you already have functions attached to the element
	album_ctp.hotspot(_i1,1).exit('#close-dog',1);

	//console.log(album1);

	_ready = true;
})
		
</script>
</html>